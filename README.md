# @ircam/sc-utils

Simple generic utilities (type check, common math functions, etc.)

## Install

```
npm install --save @ircam/sc-utils
```

## API

<!-- api -->
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [atodb][1]
*   [dbtoa][2]
*   [decibelToLinear][3]
*   [decibelToPower][4]
*   [delay][5]
*   [ftom][6]
*   [idGenerator][7]
*   [isBrowser][8]
*   [isFunction][9]
*   [isNumber][10]
*   [isPlainObject][11]
*   [isString][12]
*   [isTypedArray][13]
*   [linearScale][14]
*   [linearToDecibel][15]
*   [mtof][16]
*   [powerToDecibel][17]
*   [sleep][18]

## atodb

Convert a linear gain into dB
Alias: linearToDecibel

### Parameters

*   `val` **[number][19]** Value to convert

### Examples

```javascript
import { atodb } from '@ircam/sc-utils';
atodb(0);
// > 1
```

Returns **[number][19]**&#x20;

## dbtoa

Convert a dB into linear gain (i.e. gain)
Alias: decibelToLinear

### Parameters

*   `val` **[number][19]** Value to convert

### Examples

```javascript
import { dbtoa } from '@ircam/sc-utils';
dbtoa(0);
// > 1
```

Returns **[number][19]**&#x20;

## decibelToLinear

Convert a dB into linear gain (i.e. gain)
Alis: dbtoa

### Parameters

*   `val` **[number][19]** Value to convert

### Examples

```javascript
import { decibelToLinear } from '@ircam/sc-utils';
decibelToLinear(0);
// > 1
```

Returns **[number][19]**&#x20;

## decibelToPower

Convert a dB into power gain

### Parameters

*   `val` **[number][19]** Value to convert

### Examples

```javascript
import { decibelToPower } from '@ircam/sc-utils';
decibelToPower(0);
// > 1
```

Returns **[number][19]**&#x20;

## delay

Waits for given number of milliseconds

### Parameters

*   `ms` **[Number][19]** Number of milliseconds to wait

### Examples

```javascript
import { delay } from '@ircam/sc-utils';
// wait for 1 second
await delay(1000);
```

Returns **[Promise][20]**&#x20;

## ftom

Convert a frequency to a MIDI note

### Parameters

*   `freq` **[number][19]** Frequency to convert

### Examples

```javascript
import { ftom } from '@ircam/sc-utils';
const freq = ftom(440);
// > 69
```

Returns **[number][19]**&#x20;

## idGenerator

Create a iterator of incrementing ids

### Examples

```javascript
import { idGenerator } from '@ircam/sc-utils';
const generator = idGenerator();
const id = generator.next().value
```

Returns **Iterator**&#x20;

## isBrowser

Check if the platform is a browser or a node process

### Examples

```javascript
import { isBrowser } from '@ircam/sc-utils';
isBrowser();
// > true|false
```

Returns **[boolean][21]**&#x20;

## isFunction

Check if the value is a function

### Parameters

*   `func` &#x20;
*   `val` **any** Value to check

### Examples

```javascript
import { isFunction } from '@ircam/sc-utils';
isFunction(() => {}));
// > true
```

Returns **[boolean][21]**&#x20;

## isNumber

Check if the value is a number, including Infinity.
If you want to excluse Infinity, check the native Number.isFinite function

### Parameters

*   `n` &#x20;
*   `val` **any** Value to check

### Examples

```javascript
import { isNumber } from '@ircam/sc-utils';
isNumber(42);
// > true
```

Returns **[boolean][21]**&#x20;

## isPlainObject

Check if the value is a Plain Old Javascript Object (POJO)

### Parameters

*   `obj` &#x20;
*   `val` **any** Value to check

### Examples

```javascript
import { isObject } from '@ircam/sc-utils';
isObject({ a: 1 });
// > true
```

Returns **[boolean][21]**&#x20;

## isString

Check if the value is a string

### Parameters

*   `val` **any** Value to check

### Examples

```javascript
import { isString } from '@ircam/sc-utils';
isString('test');
// > true
```

Returns **[boolean][21]**&#x20;

## isTypedArray

Check if the value is a TypedArray

### Parameters

*   `arr` &#x20;
*   `val` **any** Value to check

### Examples

```javascript
import { isTypedArray } from '@ircam/sc-utils';
isTypedArray(new Float32Array([1, 2, 3]));
// > true
```

Returns **[boolean][21]**&#x20;

## linearScale

Create a scale function

### Parameters

*   `minIn` **[number][19]** Minimum input
*   `maxIn` **[number][19]** Maximum input
*   `minOut` **[number][19]** Minimum output
*   `maxOut` **[number][19]** Maximum output
*   `clamp` **[boolean][21]** Clamp output (optional, default `false`)

### Examples

```javascript
import { scale } from '@ircam/sc-utils';
const myScale = scale(0, 1, 50, 100);
myScale(0.5);
// > 75
```

Returns **[Function][22]**&#x20;

## linearToDecibel

Convert a linear gain into dB
Alias: atodb

### Parameters

*   `val` **[number][19]** Value to convert

### Examples

```javascript
import { decibelToPower } from '@ircam/sc-utils';
decibelToPower(0);
// > 1
```

Returns **[number][19]**&#x20;

## mtof

Convert a MIDI note to frequency

### Parameters

*   `midiNote` **[number][19]** MIDI Note to convert

### Examples

```javascript
import { mtof } from '@ircam/sc-utils';
const freq = mtof(69);
// > 440
```

Returns **[number][19]**&#x20;

## powerToDecibel

Convert a linear gain into dB

### Parameters

*   `val` **[number][19]** Value to convert

### Examples

```javascript
import { decibelToPower } from '@ircam/sc-utils';
decibelToPower(0);
// > 1
```

Returns **[number][19]**&#x20;

## sleep

Same of `delay`, but given argument is in seconds

### Parameters

*   `sec` **[Number][19]** Number of seconds to wait

### Examples

```javascript
import { sleep } from '@ircam/sc-utils';
// wait for 1 second
await sleep(1);
```

Returns **[Promise][20]**&#x20;

[1]: #atodb

[2]: #dbtoa

[3]: #decibeltolinear

[4]: #decibeltopower

[5]: #delay

[6]: #ftom

[7]: #idgenerator

[8]: #isbrowser

[9]: #isfunction

[10]: #isnumber

[11]: #isplainobject

[12]: #isstring

[13]: #istypedarray

[14]: #linearscale

[15]: #lineartodecibel

[16]: #mtof

[17]: #powertodecibel

[18]: #sleep

[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

<!-- apistop -->

## License

[BSD-3-Clause](./LICENSE)

